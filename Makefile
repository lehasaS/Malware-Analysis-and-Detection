VENV = venv
PYTHON = $(VENV)/bin/python3
PIP = $(VENV)/bin/pip
TRAINOUTDIR = train_output
TESTOUTDIR = test_output

$(VENV)/bin/activate: requirements.txt
	python3 -m venv $(VENV)
	$(PIP) install -r requirements.txt

clean:
	rm -rf $(TESTOUTDIR)/
	rm -rf $(TRAINOUTDIR)/
	rm -rf $(VENV)
	rm -rf __pycache__

makedirectories:
	mkdir train_output
	mkdir test_output

splitdataset:
	sh scripts/split.sh

runtrainone:
	$(PYTHON) CNN_Malware_Train_Test.py --train Model_One > $(TRAINOUTDIR)/Model_One_Epochs.txt

runtraintwo:
	$(PYTHON) CNN_Malware_Train_Test.py --train Model_Two > $(TRAINOUTDIR)/Model_Two_Epochs.txt

runtestone:
	$(PYTHON) CNN_Malware_Train_Test.py --test Model_One > $(TESTOUTDIR)/Model_One_Test.txt

runtesttwo:
	$(PYTHON) CNN_Malware_Train_Test.py --test Model_Two > $(TESTOUTDIR)/Model_Two_Test.txt
